"use strict";(self.webpackChunkUI_Base=self.webpackChunkUI_Base||[]).push([[817],{39817:(U,b,d)=>{d.r(b),d.d(b,{DashboardModule:()=>to});var c=d(96814),_=d(18068),u=d(31290),t=d(65879),C=d(43859),M=d(10459),m=d(48244),h=d(56223),x=d(16128),a=d(85571),f=d(59986);function N(o,s){if(1&o&&(t.TgZ(0,"li",6),t._UZ(1,"i",7),t.TgZ(2,"span",8)(3,"a",9),t._uU(4),t.qZA()()()),2&o){const n=s.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngClass",i.getFiletype(n.fileType)),t.xp6(2),t.Q6J("href",n.link,t.LSH),t.xp6(1),t.Oqu(n.name)}}let k=(()=>{var o;class s{constructor(i){this.quickLinkService=i}ngOnInit(){this.quickLinkService.getQuickLinks(!0).subscribe(i=>{i&&i.status==a.BA&&(this.links=i.data)},i=>{})}getFiletype(i){return u.ix.includes(i)?"pi-file-word":u.bY.includes(i)?"pi-file-excel":u.Z8.includes(i)?"pi-file-pdf":u.XG.includes(i)?"pi-image":"pi-file"}}return(o=s).\u0275fac=function(i){return new(i||o)(t.Y36(f.P))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-quick-links"]],decls:8,vars:1,consts:[[1,"col-12"],[1,"card"],[1,"row"],[1,"col",2,"padding-top","0px"],[1,"list-none","p-0","m-0","flex-grow-1"],["class","flex align-items-center mb-3",4,"ngFor","ngForOf"],[1,"flex","align-items-center","mb-3"],[1,"pi","iconsize","mr-5",3,"ngClass"],[1,"iconsize"],["target","_blank",3,"href"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),t._uU(5,"Quick Links"),t.qZA()()(),t.TgZ(6,"ul",4),t.YNc(7,N,5,3,"li",5),t.qZA()()()),2&i&&(t.xp6(7),t.Q6J("ngForOf",e.links))},dependencies:[c.mk,c.sg],styles:[".iconsize[_ngcontent-%COMP%]{font-size:16px!important}.pi-file-excel[_ngcontent-%COMP%]{color:green}.pi-file-word[_ngcontent-%COMP%]{color:#00f}.pi-file-pdf[_ngcontent-%COMP%]{color:red}.pi-file[_ngcontent-%COMP%], .pi-image[_ngcontent-%COMP%]{color:#00f}"]}),s})();var O=d(20553),G=d(69862);const I=function(){return{width:"2.5rem",height:"2.5rem"}};let $=(()=>{var o;class s{constructor(i,e){this.router=i,this.http=e,this.year=[],this.Type="TENDER",this.notstarted=[]}ngOnInit(){this.http.get(`${O.N.apiUrl}/Report/Alert_Filter_Form`).subscribe(i=>{if("SUCCESS"===i.status&&i.data?.statusList){const e=i.data.statusList;this.InprogressId=e.find(r=>"In-progress"===r.text)?.value,this.CompletedId=e.find(r=>"Completed"===r.text)?.value,this.slowprogres=e.find(r=>"Slow Progress"===r.text)?.value,this.onhold=e.find(r=>"Started but Stilled"===r.text)?.value,this.notstarted=[e.find(r=>"Not-Started"===r.text)?.value,e.find(r=>"New"===r.text)?.value].filter(Boolean)}})}Inprogress(){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,Status:this.InprogressId,Year:this.year}})}gotoreports(){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,Year:this.year}})}slowprogress(){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,Status:this.slowprogres,Year:this.year}})}onHold(){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,Status:this.onhold,Year:this.year}})}Completed(){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,Status:this.CompletedId,Year:this.year}})}Notstarted(){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,Status:this.notstarted,Year:this.year}})}}return(o=s).\u0275fac=function(i){return new(i||o)(t.Y36(_.F0),t.Y36(G.eN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-tender-stats"]],inputs:{year:"year",recordCount:"recordCount"},decls:78,vars:24,consts:[[1,"col-12","lg:col-2","xl:col-2"],[1,"box"],[1,"card","mb-0",2,"justify-content","center","min-height","160px","background-image","linear-gradient(to right, #8d8f91, #cfd3d8)","padding","1rem 2rem"],[1,"mb-2"],[1,"block","font-medium"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"d-flex","align-items-center","justify-content-center","bg-purple-100","border-round",3,"ngStyle"],[1,"pi","pi-shopping-bag","text-purple-500","text-xl"],[1,"numbercontenct","m-0","text-2xl","md:text-4xl",2,"background-color","#b1acb6","color","#1c1c1d","cursor","pointer",3,"click"],[1,"text-black-500","font-medium"],[1,"card","mb-0",2,"justify-content","center","min-height","160px","background-image","linear-gradient(to right, #f14943, #f7b0ab)","padding","1rem 2rem"],[1,"numbercontenct","m-0","text-2xl","md:text-4xl",2,"background-color","#f3a9a9","color","#e65656","cursor","pointer",3,"click"],[1,"card","mb-0",2,"justify-content","center","min-height","160px","background-image","linear-gradient(to right, #50ee28, #d4eecd)","padding","1rem 2rem"],[1,"d-flex","align-items-center","justify-content-center","bg-blue-100","border-round",3,"ngStyle"],[1,"pi","pi-angle-double-right","text-blue-500","text-xl"],[1,"numbercontenct","m-0","text-2xl","md:text-4xl",2,"background-color","#a6d8cd","color","#0d5d0d","cursor","pointer",3,"click"],[1,"card","mb-0",2,"justify-content","center","min-height","160px","background-image","linear-gradient(to right, #fa801d, #fdbc7b)","padding","1rem 2rem"],[1,"d-flex","align-items-center","justify-content-center","bg-cyan-100","border-round",3,"ngStyle"],[1,"pi","pi-exclamation-circle","text-cyan-500","text-xl"],[1,"numbercontenct","m-0","text-2xl","md:text-4xl",2,"background-color","#f4c2c2","color","#e75d33","cursor","pointer",3,"click"],[1,"card","mb-0",2,"justify-content","center","min-height","160px","background-image","linear-gradient(to right, #be6767, #e6afaf)","padding","1rem 2rem"],[1,"numbercontenct","m-0","text-2xl","md:text-4xl",2,"background-color","#f4c2c2","color","#f47a81","cursor","pointer",3,"click"],[1,"card","mb-0",2,"justify-content","center","min-height","160px","background-image","linear-gradient(to right, #348538, #99e09d)","padding","1rem 2rem"],[1,"pi","pi-thumbs-up","text-blue-500","text-xl"],[1,"numbercontenct","m-0","text-2xl","md:text-4xl",2,"background-color","#a6d8cd","color","#508b53","cursor","pointer",3,"click"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t._uU(5,"Total No.of Works"),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6),t._UZ(8,"i",7),t.qZA(),t.TgZ(9,"h1",8),t.NdJ("click",function(){return e.gotoreports()}),t._uU(10),t.qZA()(),t.TgZ(11,"span",9),t._uU(12),t.qZA()()()(),t.TgZ(13,"div",0)(14,"div",1)(15,"div",10)(16,"div",3)(17,"span",4),t._uU(18,"Not Started"),t.qZA()(),t.TgZ(19,"div",5)(20,"div",6),t._UZ(21,"i",7),t.qZA(),t.TgZ(22,"h1",11),t.NdJ("click",function(){return e.Notstarted()}),t._uU(23),t.qZA()(),t.TgZ(24,"span",9),t._uU(25),t.qZA()()()(),t.TgZ(26,"div",0)(27,"div",1)(28,"div",12)(29,"div",3)(30,"span",4),t._uU(31,"In Progress"),t.qZA()(),t.TgZ(32,"div",5)(33,"div",13),t._UZ(34,"i",14),t.qZA(),t.TgZ(35,"h1",15),t.NdJ("click",function(){return e.Inprogress()}),t._uU(36),t.qZA()(),t.TgZ(37,"span",9),t._uU(38),t.qZA()()()(),t.TgZ(39,"div",0)(40,"div",1)(41,"div",16)(42,"div",3)(43,"span",4),t._uU(44,"Slow Progress"),t.qZA()(),t.TgZ(45,"div",5)(46,"div",17),t._UZ(47,"i",18),t.qZA(),t.TgZ(48,"h1",19),t.NdJ("click",function(){return e.slowprogress()}),t._uU(49),t.qZA()(),t.TgZ(50,"span",9),t._uU(51),t.qZA()()()(),t.TgZ(52,"div",0)(53,"div",1)(54,"div",20)(55,"div",3)(56,"span",4),t._uU(57,"Started but Stilled"),t.qZA()(),t.TgZ(58,"div",5)(59,"div",6),t._UZ(60,"i",7),t.qZA(),t.TgZ(61,"h1",21),t.NdJ("click",function(){return e.onHold()}),t._uU(62),t.qZA()(),t.TgZ(63,"span",9),t._uU(64),t.qZA()()()(),t.TgZ(65,"div",0)(66,"div",1)(67,"div",22)(68,"div",3)(69,"span",4),t._uU(70,"Completed"),t.qZA()(),t.TgZ(71,"div",5)(72,"div",13),t._UZ(73,"i",23),t.qZA(),t.TgZ(74,"h1",24),t.NdJ("click",function(){return e.Completed()}),t._uU(75),t.qZA()(),t.TgZ(76,"span",9),t._uU(77),t.qZA()()()()),2&i&&(t.xp6(7),t.Q6J("ngStyle",t.DdM(18,I)),t.xp6(3),t.hij(" ",e.recordCount&&e.recordCount.total_Project," "),t.xp6(2),t.hij(" Worth of ",e.recordCount&&e.recordCount.total_Project_Amount_Text," "),t.xp6(8),t.Q6J("ngStyle",t.DdM(19,I)),t.xp6(3),t.hij(" ",e.recordCount&&e.recordCount.project_Upcoming," "),t.xp6(2),t.hij(" Worth of ",e.recordCount&&e.recordCount.project_Upcoming_Amount_Text," "),t.xp6(8),t.Q6J("ngStyle",t.DdM(20,I)),t.xp6(3),t.hij(" ",e.recordCount&&e.recordCount.project_OnGoing," "),t.xp6(2),t.hij(" Worth of ",e.recordCount&&e.recordCount.project_OnGoing_Amount_Text," "),t.xp6(8),t.Q6J("ngStyle",t.DdM(21,I)),t.xp6(3),t.hij(" ",e.recordCount&&e.recordCount.project_Slowprogress," "),t.xp6(2),t.hij(" Worth of ",e.recordCount&&e.recordCount.project_Slowprogress_Amount_Text," "),t.xp6(8),t.Q6J("ngStyle",t.DdM(22,I)),t.xp6(3),t.hij(" ",e.recordCount&&e.recordCount.project_OnHold," "),t.xp6(2),t.hij(" Worth of ",e.recordCount&&e.recordCount.project_OnHold_Amount_Text," "),t.xp6(8),t.Q6J("ngStyle",t.DdM(23,I)),t.xp6(3),t.hij(" ",e.recordCount&&e.recordCount.project_Finished," "),t.xp6(2),t.hij(" Worth of ",e.recordCount&&e.recordCount.project_Finished_Amount_Text," "))},dependencies:[c.PC],styles:[".numbercontenct[_ngcontent-%COMP%]{padding:10px;margin-bottom:0;margin-right:20px;margin-top:30px;background-color:#feddc7;border-radius:10px}.box[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 20px #0003;background-image:linear-gradient(to right,#8d8f91,#cfd3d8);border-radius:15px}.numbercontenct[_ngcontent-%COMP%]:hover{background-color:#c7eefe}@media (min-width: 1280px){.card[_ngcontent-%COMP%]{font-size:1rem!important}.numbercontenct[_ngcontent-%COMP%]{font-size:2rem!important}}"]}),s})();const Z=function(){return{width:"2.5rem",height:"2.5rem"}};let L=(()=>{var o;class s{constructor(i,e){this.router=i,this.http=e,this.year=[],this.Type="MBOOK"}ngOnInit(){this.http.get(`${O.N.apiUrl}/Report/Alert_Filter_Form`).subscribe(i=>{if("SUCCESS"===i.status&&i.data?.statusList){const e=i.data.statusList;this.Saved=e.find(r=>"Saved"===r.text)?.value,this.NotUpload=e.find(r=>"Submitted"===r.text)?.value,this.Paymentpendin=e.find(r=>"Waiting For Payment"===r.text)?.value,this.noActiontaken=e.find(r=>"No Action Taken"===r.text)?.value}})}Uploaded(){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,Status:this.Saved,Year:this.year}})}NotUploaded(){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,Status:this.NotUpload,Year:this.year}})}Paymentpending(){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,Status:this.Paymentpendin,Year:this.year}})}noAction(){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,Status:this.noActiontaken,Year:this.year}})}Mbooks(){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,Year:this.year}})}}return(o=s).\u0275fac=function(i){return new(i||o)(t.Y36(_.F0),t.Y36(G.eN))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mbook-stats"]],inputs:{year:"year",recordCount:"recordCount"},decls:65,vars:20,consts:[[1,"col-12","lg:col-2","xl:col-2","mx-4"],[1,"box"],[1,"card","mb-0",2,"justify-content","center","min-height","160px","background-image","linear-gradient(to right, #8d8f91, #cfd3d8)","padding","1rem 2rem"],[1,"mb-2"],[1,"block","font-medium"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"d-flex","align-items-center","justify-content-center","bg-purple-100","border-round",3,"ngStyle"],[1,"pi","pi-shopping-bag","text-purple-500","text-xl"],[1,"numbercontenct","m-0","text-2xl","md:text-4xl",2,"background-color","#b1acb6","color","#1c1c1d","cursor","pointer",3,"click"],[1,"text-black-500","font-medium"],[1,"card","mb-0",2,"justify-content","center","min-height","160px","background-image","linear-gradient(to right, #be6767, #e6afaf)","padding","1rem 2rem"],[1,"numbercontenct","m-0","text-2xl","md:text-4xl",2,"background-color","#f4c2c2","color","#f47a81","cursor","pointer",3,"click"],[1,"card","mb-0",2,"justify-content","center","min-height","160px","background-image","linear-gradient(to right, #348538, #99e09d)","padding","1rem 2rem"],[1,"numbercontenct","m-0","text-2xl","md:text-4xl",2,"background-color","#a6d8cd","color","#508b53","cursor","pointer",3,"click"],[1,"card","mb-0",2,"justify-content","center","min-height","160px","background-image","linear-gradient(to right, #fa801d, #fdbc7b)","padding","1rem 2rem"],[1,"numbercontenct","m-0","text-2xl","md:text-4xl",2,"background-color","#f4c2c2","color","#e75d33","cursor","pointer",3,"click"],[1,"card","mb-0",2,"justify-content","center","min-height","160px","background-image","linear-gradient(to right, #f14943, #f7b0ab)","padding","1rem 2rem"],[1,"numbercontenct","m-0","text-2xl","md:text-4xl",2,"background-color","#f3a9a9","color","#e65656","cursor","pointer",3,"click"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),t._uU(5,"Total No. of Mbooks"),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6),t._UZ(8,"i",7),t.qZA(),t.TgZ(9,"h1",8),t.NdJ("click",function(){return e.Mbooks()}),t._uU(10),t.qZA()(),t.TgZ(11,"span",9),t._uU(12),t.qZA()()()(),t.TgZ(13,"div",0)(14,"div",1)(15,"div",10)(16,"div",3)(17,"span",4),t._uU(18,"Mbooks Not Uploaded"),t.qZA()(),t.TgZ(19,"div",5)(20,"div",6),t._UZ(21,"i",7),t.qZA(),t.TgZ(22,"h1",11),t.NdJ("click",function(){return e.Uploaded()}),t._uU(23),t.qZA()(),t.TgZ(24,"span",9),t._uU(25),t.qZA()()()(),t.TgZ(26,"div",0)(27,"div",1)(28,"div",12)(29,"div",3)(30,"span",4),t._uU(31,"Mbooks Uploaded"),t.qZA()(),t.TgZ(32,"div",5)(33,"div",6),t._UZ(34,"i",7),t.qZA(),t.TgZ(35,"h1",13),t.NdJ("click",function(){return e.NotUploaded()}),t._uU(36),t.qZA()(),t.TgZ(37,"span",9),t._uU(38),t.qZA()()()(),t.TgZ(39,"div",0)(40,"div",1)(41,"div",14)(42,"div",3)(43,"span",4),t._uU(44,"No Action Taken"),t.qZA()(),t.TgZ(45,"div",5)(46,"div",6),t._UZ(47,"i",7),t.qZA(),t.TgZ(48,"h1",15),t.NdJ("click",function(){return e.noAction()}),t._uU(49),t.qZA()(),t.TgZ(50,"span",9),t._uU(51),t.qZA()()()(),t.TgZ(52,"div",0)(53,"div",1)(54,"div",16)(55,"div",3)(56,"span",4),t._uU(57,"Payment Pending"),t.qZA()(),t.TgZ(58,"div",5)(59,"div",6),t._UZ(60,"i",7),t.qZA(),t.TgZ(61,"h1",17),t.NdJ("click",function(){return e.Paymentpending()}),t._uU(62),t.qZA()(),t.TgZ(63,"span",9),t._uU(64),t.qZA()()()()),2&i&&(t.xp6(7),t.Q6J("ngStyle",t.DdM(15,Z)),t.xp6(3),t.hij(" ",e.recordCount&&e.recordCount.totalMbooks," "),t.xp6(2),t.hij(" Worth of ",e.recordCount&&e.recordCount.mbook_Total_Amount_Text," "),t.xp6(8),t.Q6J("ngStyle",t.DdM(16,Z)),t.xp6(3),t.hij(" ",e.recordCount&&e.recordCount.mbook_NotUploaded," "),t.xp6(2),t.hij(" Worth of ",e.recordCount&&e.recordCount.mbook_NotUploaded_Amount_Text," "),t.xp6(8),t.Q6J("ngStyle",t.DdM(17,Z)),t.xp6(3),t.hij(" ",e.recordCount&&e.recordCount.mbook_Uploaded," "),t.xp6(2),t.hij(" Worth of ",e.recordCount&&e.recordCount.mbook_Uploaded_Amount_Text," "),t.xp6(8),t.Q6J("ngStyle",t.DdM(18,Z)),t.xp6(3),t.hij(" ",e.recordCount&&e.recordCount.mbook_No_Action_Taken," "),t.xp6(2),t.hij(" Worth of ",e.recordCount&&e.recordCount.mbook_No_Action_Taken_Amount_Text," "),t.xp6(8),t.Q6J("ngStyle",t.DdM(19,Z)),t.xp6(3),t.hij(" ",e.recordCount&&e.recordCount.mbook_PaymentPending," "),t.xp6(2),t.hij(" Worth of ",e.recordCount&&e.recordCount.mbook_PaymentPending_Amount_Text," "))},dependencies:[c.PC],styles:[".numbercontenct[_ngcontent-%COMP%]{padding:10px;margin-bottom:0;margin-right:20px;margin-top:12px;background-color:#feddc7;border-radius:10px}.box[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 10px 20px #0003;background-image:linear-gradient(to right,#8d8f91,#cfd3d8);border-radius:15px}.numbercontenct[_ngcontent-%COMP%]:hover{background-color:#c7eefe}"]}),s})();var S=d(11486),D=d(10217),R=d(69846),W=d(33403),P=d.n(W),J=d(63316),q=d(85219),A=d(40707),B=d(53965),E=d(45609),y=d(39232),Q=d(33259),z=d(51712),F=d(6263),w=d(59252),Y=d(38253);function j(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"span")(1,"i",15),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.togglembookStable())}),t.qZA()()}}function V(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"span")(1,"i",16),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.togglembookStable())}),t.qZA()()}}function K(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"div",17)(1,"button",18),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.exportToFile("csv"))}),t.qZA(),t.TgZ(2,"button",19),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.exportToFile("excel"))}),t.qZA(),t.TgZ(3,"button",20),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.exportToFile("pdf"))}),t.qZA()()}}function H(o,s){1&o&&(t.TgZ(0,"th",36),t._uU(1,"Work Type "),t._UZ(2,"p-sortIcon",37),t.qZA())}function X(o,s){1&o&&(t.TgZ(0,"th",38),t._uU(1,"Division "),t._UZ(2,"p-sortIcon",39),t.qZA())}function tt(o,s){1&o&&(t.TgZ(0,"th",40),t._uU(1,"District "),t._UZ(2,"p-sortIcon",41),t.qZA())}function et(o,s){1&o&&(t.TgZ(0,"th",42),t._uU(1,"M-Book Number "),t._UZ(2,"p-sortIcon",43),t.qZA())}function ot(o,s){1&o&&(t.TgZ(0,"th",44),t._uU(1,"Milestone Name "),t._UZ(2,"p-sortIcon",45),t.qZA())}function it(o,s){1&o&&(t.TgZ(0,"th",46),t._uU(1,"Milestone Code "),t._UZ(2,"p-sortIcon",47),t.qZA())}function nt(o,s){1&o&&(t.TgZ(0,"th",48),t._uU(1,"GO "),t._UZ(2,"p-sortIcon",49),t.qZA())}function rt(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"S. No"),t.qZA(),t.YNc(3,H,3,0,"th",25),t.YNc(4,X,3,0,"th",26),t.YNc(5,tt,3,0,"th",27),t.YNc(6,et,3,0,"th",28),t.YNc(7,ot,3,0,"th",29),t.YNc(8,it,3,0,"th",30),t.YNc(9,nt,3,0,"th",31),t.TgZ(10,"th",32),t._uU(11,"Work Id "),t._UZ(12,"p-sortIcon",33),t.qZA(),t.TgZ(13,"th",34),t._uU(14,"Status "),t._UZ(15,"p-sortIcon",35),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Action"),t.qZA()()),2&o){const n=t.oxw(2);t.xp6(3),t.Q6J("ngIf",!n.isMimimized||"DIVISION"!=n.selectedtype),t.xp6(1),t.Q6J("ngIf",!n.isMimimized||"DIVISION"==n.selectedtype),t.xp6(1),t.Q6J("ngIf",!n.isMimimized),t.xp6(1),t.Q6J("ngIf",!n.isMimimized),t.xp6(1),t.Q6J("ngIf",!n.isMimimized),t.xp6(1),t.Q6J("ngIf",!n.isMimimized),t.xp6(1),t.Q6J("ngIf",!n.isMimimized)}}function st(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.workType)}}function lt(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.divisionName)}}function at(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.districtName)}}function dt(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.mBookNumber)}}function ct(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.milestoneName)}}function pt(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.milestoneCode)}}function _t(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.goNumber)}}function mt(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"button",52),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.actioInvoked(e))}),t.qZA()}}function ut(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.YNc(3,st,2,1,"td",8),t.YNc(4,lt,2,1,"td",8),t.YNc(5,at,2,1,"td",8),t.YNc(6,dt,2,1,"td",8),t.YNc(7,ct,2,1,"td",8),t.YNc(8,pt,2,1,"td",8),t.YNc(9,_t,2,1,"td",8),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._UZ(13,"p-tag",50),t.qZA(),t.TgZ(14,"td"),t.YNc(15,mt,1,0,"ng-template",51),t.qZA()()),2&o){const n=s.$implicit,i=s.rowIndex,e=t.oxw(2);t.xp6(2),t.Oqu(e.first+i+1),t.xp6(1),t.Q6J("ngIf",!e.isMimimized||"DIVISION"!=e.selectedtype),t.xp6(1),t.Q6J("ngIf",!e.isMimimized||"DIVISION"==e.selectedtype),t.xp6(1),t.Q6J("ngIf",!e.isMimimized),t.xp6(1),t.Q6J("ngIf",!e.isMimimized),t.xp6(1),t.Q6J("ngIf",!e.isMimimized),t.xp6(1),t.Q6J("ngIf",!e.isMimimized),t.xp6(1),t.Q6J("ngIf",!e.isMimimized),t.xp6(2),t.Oqu(n.tenderNumber),t.xp6(2),t.Q6J("ngClass",e.getBtnSeverity(n.statusName))("value",n.statusName),t.xp6(2),t.Q6J("ngxPermissionsOnly",e.privlegess.MBOOK_VIEW)}}const gt=function(o){return[5,10,25,50,o]};function ht(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"div")(1,"p-table",21),t.NdJ("onLazyLoad",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.lazyload(e))}),t.YNc(2,rt,18,7,"ng-template",22),t.YNc(3,ut,16,12,"ng-template",23),t.qZA(),t.TgZ(4,"p-paginator",24),t.NdJ("onPageChange",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.onPageChange(e))}),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("value",n.mbooks)("customSort",!0)("paginator",!1)("lazy",!0)("totalRecords",n.total)("loading",!1)("rows",n.rows),t.xp6(3),t.Q6J("showCurrentPageReport",!0)("first",n.first)("rows",n.rows)("totalRecords",n.total)("rowsPerPageOptions",t.VKq(12,gt,n.total))}}function ft(o,s){1&o&&(t.TgZ(0,"th",42),t._uU(1," District "),t._UZ(2,"p-sortIcon",43),t.qZA())}function Tt(o,s){1&o&&(t.TgZ(0,"th",62),t._uU(1," Mbook Not Uploaded "),t._UZ(2,"p-sortIcon",63),t.qZA())}function Ct(o,s){1&o&&(t.TgZ(0,"th",64),t._uU(1," Mbook Uploaded "),t._UZ(2,"p-sortIcon",65),t.qZA())}function vt(o,s){1&o&&(t.TgZ(0,"th",66),t._uU(1," No Action Taken "),t._UZ(2,"p-sortIcon",67),t.qZA())}function bt(o,s){1&o&&(t.TgZ(0,"th",68),t._uU(1," Payment pending "),t._UZ(2,"p-sortIcon",69),t.qZA())}function xt(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"S. No"),t.qZA(),t.TgZ(3,"th",38),t._uU(4," Division "),t._UZ(5,"p-sortIcon",39),t.qZA(),t.YNc(6,ft,3,0,"th",28),t.TgZ(7,"th",54),t._uU(8," Total Mbooks "),t._UZ(9,"p-sortIcon",55),t.qZA(),t.TgZ(10,"th",56),t._uU(11," Total Mbook value "),t._UZ(12,"p-sortIcon",57),t.qZA(),t.YNc(13,Tt,3,0,"th",58),t.YNc(14,Ct,3,0,"th",59),t.YNc(15,vt,3,0,"th",60),t.YNc(16,bt,3,0,"th",61),t.qZA()),2&o){const n=t.oxw(2);t.xp6(6),t.Q6J("ngIf","SUMMARY_BY_DIVISION/DISTRICT"==n.selectedtype),t.xp6(7),t.Q6J("ngIf",!n.isMimimized),t.xp6(1),t.Q6J("ngIf",!n.isMimimized),t.xp6(1),t.Q6J("ngIf",!n.isMimimized),t.xp6(1),t.Q6J("ngIf",!n.isMimimized)}}function Mt(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.districtName," ")}}function St(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"td",71),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.totalworks(e.division))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.totalDivisionCount," ")}}function yt(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"td",71),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.districttotal(e.district))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.totalDivisionCount," ")}}function kt(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"td",71),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.goToReports(e.division,r.Saved))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.mbookNotUploaded," ")}}function It(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"td",71),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.districtreport(e.district,r.Saved))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.mbookNotUploaded," ")}}function Nt(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"td",71),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.goToReports(e.division,r.Upload))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.mbookUploaded," ")}}function Zt(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"td",71),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.districtreport(e.district,r.Upload))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.mbookUploaded," ")}}function At(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"td",71),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.goToReports(e.division,r.noActiontaken))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.noActionTaken," ")}}function Ut(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"td",71),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.districtreport(e.district,r.noActiontaken))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.noActionTaken," ")}}function Dt(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"td",71),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.goToReports(e.division,r.Paymentpendin))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.paymentPending," ")}}function wt(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"td",71),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.districtreport(e.district,r.Paymentpendin))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.paymentPending," ")}}function Yt(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.YNc(5,Mt,2,1,"td",8),t.YNc(6,St,2,1,"td",70),t.YNc(7,yt,2,1,"td",70),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"number"),t.qZA(),t.YNc(11,kt,2,1,"td",70),t.YNc(12,It,2,1,"td",70),t.YNc(13,Nt,2,1,"td",70),t.YNc(14,Zt,2,1,"td",70),t.YNc(15,At,2,1,"td",70),t.YNc(16,Ut,2,1,"td",70),t.YNc(17,Dt,2,1,"td",70),t.YNc(18,wt,2,1,"td",70),t.qZA()),2&o){const n=s.$implicit,i=s.rowIndex,e=t.oxw(2);t.xp6(2),t.Oqu(e.first+i+1),t.xp6(2),t.Oqu(n.divisionName),t.xp6(1),t.Q6J("ngIf","SUMMARY_BY_DIVISION/DISTRICT"==e.selectedtype),t.xp6(1),t.Q6J("ngIf","SUMMARY_BY_DIVISION"==e.selectedtype),t.xp6(1),t.Q6J("ngIf","SUMMARY_BY_DIVISION/DISTRICT"==e.selectedtype),t.xp6(2),t.hij(" ",t.xi3(10,14,n.mbookAmount/1e7,"1.2-2")," Cr "),t.xp6(2),t.Q6J("ngIf",!e.isMimimized&&"SUMMARY_BY_DIVISION"==e.selectedtype),t.xp6(1),t.Q6J("ngIf",!e.isMimimized&&"SUMMARY_BY_DIVISION/DISTRICT"==e.selectedtype),t.xp6(1),t.Q6J("ngIf",!e.isMimimized&&"SUMMARY_BY_DIVISION"==e.selectedtype),t.xp6(1),t.Q6J("ngIf",!e.isMimimized&&"SUMMARY_BY_DIVISION/DISTRICT"==e.selectedtype),t.xp6(1),t.Q6J("ngIf",!e.isMimimized&&"SUMMARY_BY_DIVISION"==e.selectedtype),t.xp6(1),t.Q6J("ngIf",!e.isMimimized&&"SUMMARY_BY_DIVISION/DISTRICT"==e.selectedtype),t.xp6(1),t.Q6J("ngIf",!e.isMimimized&&"SUMMARY_BY_DIVISION"==e.selectedtype),t.xp6(1),t.Q6J("ngIf",!e.isMimimized&&"SUMMARY_BY_DIVISION/DISTRICT"==e.selectedtype)}}const Ot=function(){return[5,10,25,50,100]};function Gt(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"div")(1,"p-table",53),t.NdJ("onLazyLoad",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.lazyload(e))}),t.YNc(2,xt,17,5,"ng-template",22),t.YNc(3,Yt,19,17,"ng-template",23),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("value",n.divisionCount)("customSort",!1)("paginator","SUMMARY_BY_DIVISION/DISTRICT"==n.selectedtype||"SUMMARY_BY_DIVISION"==n.selectedtype)("lazy",!1)("sortOrder",1)("totalRecords",n.total)("loading",!1)("rows",n.rows)("rowsPerPageOptions",t.DdM(9,Ot))}}const Rt=function(){return{border:"none",width:"fit-content"}};let Pt=(()=>{var o;class s{constructor(i,e,r,l){this.mbookService=i,this.router=e,this.layoutService=r,this.dashboardService=l,this.year=[],this.privlegess=u.UR,this.isMimimized=!0,this.first=0,this.rows=5,this.defaultSortField="tenderNumber",this.selectedtype="DIVISION",this.selectedLabel="M-Books By Division",this.Type="MBOOK",this.Saved="8e6b29fa-7b20-11ee-b363-fa163e14116e",this.Upload="8e6b2e55-7b20-11ee-b363-fa163e14116e",this.Paymentpendin="42b8efcc-50e6-11f0-9806-2c98117e76d0",this.noActiontaken="febc5537-50ec-11f0-9806-2c98117e76d0",this.subscription=this.layoutService.configUpdate$.subscribe(()=>{this.initChart()})}ngOnInit(){this.initChart(),this.types=[{id:"DIVISION",Name:"M-Books By Division"},{id:"WORK_TYPE",Name:"M-Books By Work Type"},{id:"SUMMARY_BY_DIVISION/DISTRICT",Name:"Abstract Division/District"}],this.filtermodel={divisionIds:null,searchString:null,selectionType:this.selectedtype,skip:0,sorting:{fieldName:"tenderNumber",sort:"ASC"},take:5,where:{isActive:!0},year:this.year,isForApproval:!1,columnSearch:null},this.callMbooks()}ngOnChanges(){this.filtermodel={divisionIds:null,searchString:null,selectionType:this.selectedtype,skip:0,sorting:{fieldName:"tenderNumber",sort:"ASC"},take:5,where:{isActive:!0},year:this.year,isForApproval:!1,columnSearch:null},this.callMbooks(),this.callmbookchartdetails(),this.callMbookDivisionDistrictCount(),this.callMbookDivisionCount()}changetype(){this.callmbookchartdetails(),"SUMMARY_BY_DIVISION/DISTRICT"==this.selectedtype&&this.callMbookDivisionDistrictCount()}actioInvoked(i){this.router.navigate(["m-book-manage","view",i.id])}callmbookchartdetails(){this.dashboardService.getDashboardMbookChart({departmentIds:null,divisionIds:null,year:this.year,selectionType:this.selectedtype,costOrCount:this.chartType?"COST":"COUNT"}).subscribe(i=>{this.chartData=i.data},i=>{})}callMbooks(){this.mbookService.getMBooks(this.filtermodel).subscribe(i=>{i&&i.status==a.BA&&(this.mbooks=i.data,this.total=i.totalRecordCount)},i=>{})}callMbookDivisionDistrictCount(){this.dashboardService.getDashboard_Mbook_Count(this.filtermodel).subscribe(i=>{i&&i.status==a.BA&&(this.divisionCount=i.data,this.total=i.totalRecordCount)},i=>{})}callMbookDivisionCount(){this.dashboardService.getDashboard_Mbookdivision_Count(this.filtermodel).subscribe(i=>{i&&i.status==a.BA&&(this.divisionCount=i.data,this.total=i.totalRecordCount)},i=>{})}initChart(){const i=getComputedStyle(document.documentElement),e=i.getPropertyValue("--text-color"),r=i.getPropertyValue("--text-color-secondary"),l=i.getPropertyValue("--surface-border");this.chartData={labels:["1","2","3","4","5","6","7","8","9","10","9","10"],datasets:[{label:"First Dataset",data:[65,59,80,81,56,55,40,57,58,70,58,70],backgroundColor:"#a7e996",borderColor:"#a7e996",borderWidth:2,borderRadius:3},{label:"Second Dataset",data:[28,48,40,19,86,27,95,66,77,30,77,30],backgroundColor:"#f7dd91",borderColor:"#f7dd91",borderWidth:2,borderRadius:3}]},this.chartOptions={maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{color:e}}},exportEnabled:!0,scales:{x:{ticks:{color:r,font:{weight:500}},grid:{color:l,drawBorder:!1}},y:{ticks:{color:r},grid:{color:l,drawBorder:!1}}}}}getmbookStyleClass(){return this.isMimimized?"col-12 xl:col-6":"col-12 xl:col-12"}togglembookStable(){this.isMimimized=!this.isMimimized}getStyleClass(){return this.isMimimized?"col-12 xl:col-6":"col-12 xl:col-12"}onGlobalFilter(i){this.filtermodel={...this.filtermodel,searchString:this.SearchString},this.callMbooks()}lazyload(i){i.filters&&(this.filtermodel={...this.filtermodel,sorting:{fieldName:i.field?i.field:this.defaultSortField,sort:1==i.order?"ASC":"DESC"},columnSearch:[]}),this.filtermodel={...this.filtermodel,sorting:{fieldName:i.sortField&&""!==i.sortField?i.sortField:this.defaultSortField,sort:1==i.sortOrder?"ASC":"DESC"}},this.callMbooks()}getBtnSeverity(i){return(0,u.x)(i)}toggletable(){this.isMimimized=!this.isMimimized}onPageChange(i){this.first=i.first,this.rows=i.rows;const e=Math.min(this.total-1,this.first);Math.min(this.total,this.first+this.rows),this.filtermodel={...this.filtermodel,skip:e,take:i.rows},this.callMbooks()}changeType(i){this.filtermodel={...this.filtermodel,selectionType:i.value},this.selectedLabel=this.types.find(e=>e.id==i.value)?.Name,this.callMbooks(),this.callmbookchartdetails(),"SUMMARY_BY_DIVISION/DISTRICT"==this.selectedtype&&this.callMbookDivisionDistrictCount(),"SUMMARY_BY_DIVISION"==this.selectedtype&&this.callMbookDivisionCount()}goToReports(i,e){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,Status:e,division:i,Year:this.year}})}SchemeCompleted(i,e){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,Status:e,scheme:i,Year:this.year}})}totalworks(i){this.router.navigate(["/reports"],{queryParams:{division:i,Type:this.Type,Year:this.year}})}totalworksScheme(i){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,scheme:i,Year:this.year}})}districtreport(i,e){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,district:i,Status:e,Year:this.year}})}districttotal(i){this.router.navigate(["/reports"],{queryParams:{Type:this.Type,district:i,Year:this.year}})}exportToFile(i){let e=[],r="MBookData";if("WORK_TYPE"===this.selectedtype?(e=this.mbooks?.map((l,g)=>({"S.No":g+1,"Work Type":l.workType,Division:l.divisionName,District:l.districtName,"M-Book Number":l.mBookNumber,"Milestone Name":l.milestoneName,"Milestone Code":l.milestoneCode,GO:l.goNumber,"Work ID":l.tenderNumber,Status:l.statusName}))??[],r="MBook_WorkType"):"DIVISION"===this.selectedtype?(e=this.mbooks?.map((l,g)=>({"S.No":g+1,Division:l.divisionName,District:l.districtName,"M-Book Number":l.mBookNumber,"Milestone Name":l.milestoneName,GO:l.goNumber,"Work ID":l.tenderNumber,Status:l.statusName}))??[],r="MBook_Division"):"SUMMARY_BY_DIVISION/DISTRICT"===this.selectedtype?(e=this.divisionCount?.map((l,g)=>({"S.No":g+1,Division:l.divisionName,District:l.districtName,"Total MBooks":l.totalDivisionCount,"Total MBook Value (Cr)":(l.mbookAmount/1e7).toFixed(2),"MBook Not Uploaded":l.mbookNotUploaded,"MBook Uploaded":l.mbookUploaded,"No Action Taken":l.noActionTaken,"Payment Pending":l.paymentPending}))??[],r="MBook_Abstract_Division_District"):"SUMMARY_BY_DIVISION"===this.selectedtype&&(e=this.divisionCount?.map((l,g)=>({"S.No":g+1,Division:l.divisionName,"Total MBooks":l.totalDivisionCount,"Total MBook Value (Cr)":(l.mbookAmount/1e7).toFixed(2),"MBook Not Uploaded":l.mbookNotUploaded,"MBook Uploaded":l.mbookUploaded,"No Action Taken":l.noActionTaken,"Payment Pending":l.paymentPending}))??[],r="MBook_Abstract_Division"),e&&0!==e.length){if("excel"===i){const g={Sheets:{data:S.utils.json_to_sheet(e)},SheetNames:["data"]},T=S.write(g,{bookType:"xlsx",type:"array"}),p=new Blob([T],{type:"application/octet-stream"});(0,D.saveAs)(p,`${r}.xlsx`)}else if("csv"===i){const l=S.utils.json_to_sheet(e),g=S.utils.sheet_to_csv(l),T=new Blob([g],{type:"text/csv;charset=utf-8;"});(0,D.saveAs)(T,`${r}.csv`)}else if("pdf"===i){const l=new R.default("l","mm","a4");l.text(`${r} Report`,14,10);const g=[Object.keys(e[0])],T=e.map(p=>Object.values(p));P()(l,{head:g,body:T,startY:15,styles:{fontSize:8},headStyles:{fillColor:[22,160,133]},alternateRowStyles:{fillColor:[240,240,240]}}),l.save(`${r}.pdf`)}}else console.warn("No data available for export.")}}return(o=s).\u0275fac=function(i){return new(i||o)(t.Y36(J.B),t.Y36(_.F0),t.Y36(C.P),t.Y36(m.s))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-mbook-grid"]],inputs:{year:"year"},features:[t.TTD],decls:26,vars:19,consts:[[3,"ngClass"],[1,"card",2,"height","100%"],[1,"row"],[1,"col","filtertab",2,"padding-top","0px","margin-top","-10px"],["optionLabel","Name","optionValue","id","placeholder","Select a Role",3,"options","showClear","ngModel","onChange","ngModelChange"],[1,"col",2,"padding-top","0px","margin-top","-10px"],["placeholder","Search Keyword and Click Enter",1,"p-inputtext","p-component","p-element","w-full",3,"ngModel","ngModelChange","change"],[1,"col",2,"padding-top","0px","display","contents"],[4,"ngIf"],["class","d-flex justify-content-end align-items-center","style","\n    gap: 0.35rem;\n    margin-top: -8px;\n    margin-bottom: 4px;\n    padding: 0;\n  ",4,"ngIf"],[1,"col",2,"padding-top","0px"],[2,"margin-right","5px"],[3,"ngModel","ngModelChange"],[2,"margin-left","5px"],["type","bar",3,"data","responsive","options"],[1,"pi","pi-window-maximize","text-purple-500","text-xl",3,"click"],[1,"pi","pi-window-minimize","text-purple-500","text-xl",3,"click"],[1,"d-flex","justify-content-end","align-items-center",2,"gap","0.35rem","margin-top","-8px","margin-bottom","4px","padding","0"],["type","button","pButton","","pRipple","","icon","pi pi-file","pTooltip","CSV","tooltipPosition","bottom",1,"mr-2",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-file-excel","pTooltip","XLS","tooltipPosition","bottom",1,"p-button-success","mr-2",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-file-pdf","pTooltip","PDF","tooltipPosition","bottom",1,"p-button-warning","mr-2",3,"click"],["ngClass","dfd","responsiveLayout","scroll",3,"value","customSort","paginator","lazy","totalRecords","loading","rows","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"showCurrentPageReport","first","rows","totalRecords","rowsPerPageOptions","onPageChange"],["pSortableColumn","workType",4,"ngIf"],["pSortableColumn","divisionName",4,"ngIf"],["pSortableColumn","mBookNumber",4,"ngIf"],["pSortableColumn","districtName",4,"ngIf"],["pSortableColumn","milestoneName",4,"ngIf"],["pSortableColumn","milestoneCode",4,"ngIf"],["pSortableColumn","goNumber",4,"ngIf"],["pSortableColumn","tenderNumber"],["field","tenderNumber"],["pSortableColumn","statusName"],["field","statusName"],["pSortableColumn","workType"],["field","workType"],["pSortableColumn","divisionName"],["field","divisionName"],["pSortableColumn","mBookNumber"],["field","mBookNumber"],["pSortableColumn","districtName"],["field","districtName"],["pSortableColumn","milestoneName"],["field","milestoneName"],["pSortableColumn","milestoneCode"],["field","milestoneCode"],["pSortableColumn","goNumber"],["field","goNumber"],[3,"ngClass","value"],[3,"ngxPermissionsOnly"],["type","button","pButton","","pRipple","","icon","pi pi-info","title","Info","styleClass","p-button",1,"p-button-outlined","mr-2",3,"click"],["ngClass","dfd","responsiveLayout","scroll",3,"value","customSort","paginator","lazy","sortOrder","totalRecords","loading","rows","rowsPerPageOptions","onLazyLoad"],["pSortableColumn","totalDivisionCount"],["field","totalDivisionCount"],["pSortableColumn","mbookAmount"],["field","mbookAmount"],["pSortableColumn","mbookNotUploaded",4,"ngIf"],["pSortableColumn","mbookUploaded",4,"ngIf"],["pSortableColumn","noActionTaken",4,"ngIf"],["pSortableColumn","paymentPending",4,"ngIf"],["pSortableColumn","mbookNotUploaded"],["field","mbookNotUploaded"],["pSortableColumn","mbookUploaded"],["field","mbookUploaded"],["pSortableColumn","noActionTaken"],["field","noActionTaken"],["pSortableColumn","paymentPending"],["field","paymentPending"],["class","clickable-td",3,"click",4,"ngIf"],[1,"clickable-td",3,"click"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p-dropdown",4),t.NdJ("onChange",function(l){return e.changeType(l)})("ngModelChange",function(l){return e.selectedtype=l}),t.qZA()(),t.TgZ(5,"div",5)(6,"input",6),t.NdJ("ngModelChange",function(l){return e.SearchString=l})("change",function(l){return e.onGlobalFilter(l)}),t.qZA()(),t.TgZ(7,"div",7),t.YNc(8,j,2,0,"span",8),t.YNc(9,V,2,0,"span",8),t.qZA()(),t.YNc(10,K,4,0,"div",9),t.YNc(11,ht,5,14,"div",8),t.YNc(12,Gt,4,10,"div",8),t.qZA()(),t.TgZ(13,"div",0)(14,"div",1)(15,"div",2)(16,"div",10)(17,"h5"),t._uU(18),t.qZA()(),t.TgZ(19,"div",7)(20,"span",11),t._uU(21,"Count"),t.qZA(),t.TgZ(22,"p-inputSwitch",12),t.NdJ("ngModelChange",function(l){return e.chartType=l})("ngModelChange",function(){return e.changetype()}),t.qZA(),t.TgZ(23,"span",13),t._uU(24,"Cost"),t.qZA()()(),t._UZ(25,"p-chart",14),t.qZA()()),2&i&&(t.Q6J("ngClass",e.getmbookStyleClass()),t.xp6(4),t.Akn(t.DdM(18,Rt)),t.Q6J("options",e.types)("showClear",!1)("ngModel",e.selectedtype),t.xp6(2),t.Q6J("ngModel",e.SearchString),t.xp6(2),t.Q6J("ngIf",e.isMimimized),t.xp6(1),t.Q6J("ngIf",!e.isMimimized),t.xp6(1),t.Q6J("ngIf",!e.isMimimized),t.xp6(1),t.Q6J("ngIf","WORK_TYPE"==e.selectedtype||"DIVISION"==e.selectedtype),t.xp6(1),t.Q6J("ngIf","SUMMARY_BY_DIVISION"==e.selectedtype||"SUMMARY_BY_DIVISION/DISTRICT"==e.selectedtype||"SUMMARY_BY_SCHEME"==e.selectedtype),t.xp6(1),t.Q6J("ngClass",e.getmbookStyleClass()),t.xp6(5),t.Oqu(e.selectedLabel),t.xp6(4),t.Q6J("ngModel",e.chartType),t.xp6(3),t.Q6J("data",e.chartData)("responsive",!0)("options",e.chartOptions))},dependencies:[c.mk,c.O5,h.Fj,h.JJ,h.On,q.jx,A.Hq,B.Lt,E.Ql,y.iA,y.lQ,y.fz,Q.u,z.D,F.V,w.C,Y.gE,c.JJ],styles:[".dfd[_ngcontent-%COMP%]{height:100%}  .filtertab>p-dropdown span{font-size:1.25rem;font-weight:500}  .filtertab>p-dropdown>div>p-overlay span{font-size:revert;font-weight:revert}"]}),s})();var Jt=d(80290),qt=d(65031),Bt=d(34055);function Et(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"span")(1,"i",25),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.toggletable())}),t.qZA()()}}function Qt(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"span")(1,"i",26),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.toggletable())}),t.qZA()()}}function zt(o,s){if(1&o&&(t.TgZ(0,"div",27)(1,"span",28),t._uU(2),t.qZA()()),2&o){const n=s.$implicit;t.xp6(2),t.Oqu(n.text)}}function Ft(o,s){if(1&o&&(t.TgZ(0,"div",27)(1,"span",28),t._uU(2),t.qZA()()),2&o){const n=s.$implicit;t.xp6(2),t.Oqu(n.text)}}function $t(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"div",29)(1,"button",30),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.exportToExcel("csv"))}),t.qZA(),t.TgZ(2,"button",31),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.exportToExcel("xlsx"))}),t.qZA(),t.TgZ(3,"button",32),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.exportToExcel("pdf"))}),t.qZA()()}}function Lt(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"div",16)(1,"div",17),t.YNc(2,Et,2,0,"span",9),t.YNc(3,Qt,2,0,"span",9),t.qZA(),t.TgZ(4,"div",18)(5,"div",19)(6,"p-multiSelect",20),t.NdJ("ngModelChange",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.selecteddivisions=e)})("ngModelChange",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.divisionChanged(e))}),t.YNc(7,zt,3,1,"ng-template",21),t.qZA()(),t.TgZ(8,"div",19)(9,"p-multiSelect",22),t.NdJ("ngModelChange",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.filtermodel.dtistrictsList=e)})("ngModelChange",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.districtChanged(e))}),t.YNc(10,Ft,3,1,"ng-template",21),t.qZA()(),t._UZ(11,"div",23),t.YNc(12,$t,4,0,"div",24),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!n.isMimimizedoftenders),t.xp6(3),t.Q6J("options",n.divisions)("ngModel",n.selecteddivisions)("showClear",!0),t.xp6(3),t.Q6J("options",n.dtistrictsList)("ngModel",n.filtermodel.dtistrictsList)("showClear",!0),t.xp6(3),t.Q6J("ngIf",!n.isMimimizedoftenders)}}function Wt(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"div",33)(1,"input",34),t.NdJ("ngModelChange",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.tenderSearchString=e)})("change",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.onGlobalFilter(e))}),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngModel",n.tenderSearchString)}}function jt(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"span")(1,"i",36),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.toggletable())}),t.qZA()()}}function Vt(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"span")(1,"i",37),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(2);return t.KtG(e.toggletable())}),t.qZA()()}}function Kt(o,s){if(1&o&&(t.TgZ(0,"div",35),t.YNc(1,jt,2,0,"span",9),t.YNc(2,Vt,2,0,"span",9),t.qZA()),2&o){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!n.isMimimizedoftenders)}}function Ht(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"div",38)(1,"button",30),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.exportToExcel("csv"))}),t.qZA(),t.TgZ(2,"button",31),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.exportToExcel("xlsx"))}),t.qZA(),t.TgZ(3,"button",32),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.exportToExcel("pdf"))}),t.qZA()()}}function Xt(o,s){1&o&&(t.TgZ(0,"th",54),t._uU(1," Work Type "),t._UZ(2,"p-sortIcon",55),t.qZA())}function te(o,s){1&o&&(t.TgZ(0,"th",56),t._uU(1," Division "),t._UZ(2,"p-sortIcon",57),t.qZA())}function ee(o,s){1&o&&(t.TgZ(0,"th",58),t._uU(1," District "),t._UZ(2,"p-sortIcon",59),t.qZA())}function oe(o,s){1&o&&(t.TgZ(0,"th",60),t._uU(1," Initiated On "),t._UZ(2,"p-sortIcon",61),t.qZA())}function ie(o,s){1&o&&(t.TgZ(0,"th",62),t._uU(1," Awarded Date "),t._UZ(2,"p-sortIcon",63),t.qZA())}function ne(o,s){1&o&&(t.TgZ(0,"th",64),t._uU(1," GO "),t._UZ(2,"p-sortIcon",65),t.qZA())}function re(o,s){1&o&&(t.TgZ(0,"th",66),t._uU(1," Scheme Name "),t._UZ(2,"p-sortIcon",67),t.qZA())}function se(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"S. No"),t.qZA(),t.YNc(3,Xt,3,0,"th",43),t.YNc(4,te,3,0,"th",44),t.YNc(5,ee,3,0,"th",45),t.YNc(6,oe,3,0,"th",46),t.YNc(7,ie,3,0,"th",47),t.YNc(8,ne,3,0,"th",48),t.YNc(9,re,3,0,"th",49),t.TgZ(10,"th",50),t._uU(11," Work Id "),t._UZ(12,"p-sortIcon",51),t.qZA(),t.TgZ(13,"th",52),t._uU(14," Status "),t._UZ(15,"p-sortIcon",53),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Action"),t.qZA()()),2&o){const n=t.oxw(2);t.xp6(3),t.Q6J("ngIf",!n.isMimimizedoftenders||"DIVISION"!=n.selectedtype),t.xp6(1),t.Q6J("ngIf",!n.isMimimizedoftenders||"DIVISION"==n.selectedtype),t.xp6(1),t.Q6J("ngIf",!n.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!n.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!n.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!n.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!n.isMimimizedoftenders)}}function le(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.workType," ")}}function ae(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.divisionName," ")}}function de(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.districtName)}}function ce(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.startDate,"dd-MMM-yyyy hh:mm a"),"\n")}}function pe(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,n.endDate,"dd-MMM-yyyy hh:mm a"),"\n")}}function _e(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.goNumber)}}function me(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.schemeName)}}function ue(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"button",70),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.actioInvoked(e))}),t.qZA()}}function ge(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.YNc(3,le,2,1,"td",9),t.YNc(4,ae,2,1,"td",9),t.YNc(5,de,2,1,"td",9),t.YNc(6,ce,3,4,"td",9),t.YNc(7,pe,3,4,"td",9),t.YNc(8,_e,2,1,"td",9),t.YNc(9,me,2,1,"td",9),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._UZ(13,"p-tag",68),t.qZA(),t.TgZ(14,"td"),t.YNc(15,ue,1,0,"ng-template",69),t.qZA()()),2&o){const n=s.$implicit,i=s.rowIndex,e=t.oxw(2);t.xp6(2),t.Oqu(e.first+i+1),t.xp6(1),t.Q6J("ngIf",!e.isMimimizedoftenders||"DIVISION"!=e.selectedtype),t.xp6(1),t.Q6J("ngIf",!e.isMimimizedoftenders||"DIVISION"==e.selectedtype),t.xp6(1),t.Q6J("ngIf",!e.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!e.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!e.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!e.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!e.isMimimizedoftenders),t.xp6(2),t.Oqu(n.tenderNumber),t.xp6(2),t.Q6J("ngClass",e.getBtnSeverity(n.workStatus))("value",n.workStatus),t.xp6(2),t.Q6J("ngxPermissionsOnly",e.privlegess.TENDER_VIEW)}}const he=function(o){return[5,10,25,50,o]};function fe(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"div")(1,"p-table",39),t.NdJ("onLazyLoad",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.lazyload(e))}),t.YNc(2,se,18,7,"ng-template",40),t.YNc(3,ge,16,12,"ng-template",41),t.qZA(),t.TgZ(4,"p-paginator",42),t.NdJ("onPageChange",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.onPageChange(e))}),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("value",n.tenders)("customSort",!0)("paginator",!1)("lazy",!0)("sortOrder",1)("totalRecords",n.total)("loading",!1)("rows",n.rows),t.xp6(3),t.Q6J("showCurrentPageReport",!0)("first",n.first)("rows",n.rows)("totalRecords",n.total)("rowsPerPageOptions",t.VKq(13,he,n.total))}}function Te(o,s){1&o&&(t.TgZ(0,"th",56),t._uU(1," Division "),t._UZ(2,"p-sortIcon",57),t.qZA())}function Ce(o,s){1&o&&(t.TgZ(0,"th",58),t._uU(1," District "),t._UZ(2,"p-sortIcon",59),t.qZA())}function ve(o,s){1&o&&(t.TgZ(0,"th",66),t._uU(1," Scheme Name "),t._UZ(2,"p-sortIcon",67),t.qZA())}function be(o,s){1&o&&(t.TgZ(0,"th",82),t._uU(1," Completed "),t._UZ(2,"p-sortIcon",83),t.qZA())}function xe(o,s){1&o&&(t.TgZ(0,"th",84),t._uU(1," Ongoing "),t._UZ(2,"p-sortIcon",85),t.qZA())}function Me(o,s){1&o&&(t.TgZ(0,"th",86),t._uU(1," Slow Progress "),t._UZ(2,"p-sortIcon",87),t.qZA())}function Se(o,s){1&o&&(t.TgZ(0,"th",88),t._uU(1," On Hold "),t._UZ(2,"p-sortIcon",89),t.qZA())}function ye(o,s){if(1&o&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"S. No"),t.qZA(),t.YNc(3,Te,3,0,"th",44),t.YNc(4,Ce,3,0,"th",45),t.YNc(5,ve,3,0,"th",49),t.TgZ(6,"th",72),t._uU(7," Total Works "),t._UZ(8,"p-sortIcon",73),t.qZA(),t.TgZ(9,"th",74),t._uU(10," Total Value "),t._UZ(11,"p-sortIcon",75),t.qZA(),t.YNc(12,be,3,0,"th",76),t.YNc(13,xe,3,0,"th",77),t.YNc(14,Me,3,0,"th",78),t.YNc(15,Se,3,0,"th",79),t.TgZ(16,"th",80),t._uU(17," Not Started "),t._UZ(18,"p-sortIcon",81),t.qZA()()),2&o){const n=t.oxw(2);t.xp6(3),t.Q6J("ngIf","SUMMARY_BY_SCHEME"!==n.selectedtype),t.xp6(1),t.Q6J("ngIf","SUMMARY_BY_DIVISION/DISTRICT"===n.selectedtype),t.xp6(1),t.Q6J("ngIf","SUMMARY_BY_SCHEME"===n.selectedtype),t.xp6(7),t.Q6J("ngIf",!n.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!n.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!n.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!n.isMimimizedoftenders)}}function ke(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.divisionName," ")}}function Ie(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.districtName," ")}}function Ne(o,s){if(1&o&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.schemeName," ")}}function Ze(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"td",90),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG("SUMMARY_BY_SCHEME"===r.selectedtype?r.SchemeCompleted(e.schemeId||"-1","8e6b304b-7b20-11ee-b363-fa163e14116e"):"SUMMARY_BY_DIVISION"===r.selectedtype?r.goToReports(e.division,"8e6b304b-7b20-11ee-b363-fa163e14116e"):r.districtreport(e.district,"8e6b304b-7b20-11ee-b363-fa163e14116e"))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.completed," ")}}function Ae(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"td",90),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG("SUMMARY_BY_SCHEME"===r.selectedtype?r.SchemeCompleted(e.schemeId||"-1","198ccf78-8de2-11ee-aa46-fa163e14116e"):"SUMMARY_BY_DIVISION"===r.selectedtype?r.goToReports(e.division,"198ccf78-8de2-11ee-aa46-fa163e14116e"):r.districtreport(e.district,"198ccf78-8de2-11ee-aa46-fa163e14116e"))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.inProgress," ")}}function Ue(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"td",90),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG("SUMMARY_BY_SCHEME"===r.selectedtype?r.SchemeCompleted(e.schemeId||"-1","40625423-7b36-11ee-b363-fa163e14116b"):"SUMMARY_BY_DIVISION"===r.selectedtype?r.goToReports(e.division,"40625423-7b36-11ee-b363-fa163e14116b"):r.districtreport(e.district,"40625423-7b36-11ee-b363-fa163e14116b"))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.slowProgress," ")}}function De(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"td",90),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw(2);return t.KtG("SUMMARY_BY_SCHEME"===r.selectedtype?r.SchemeCompleted(e.schemeId||"-1","40625423-7b36-11ee-b363-fa163e14116c"):"SUMMARY_BY_DIVISION"===r.selectedtype?r.goToReports(e.division,"40625423-7b36-11ee-b363-fa163e14116c"):r.districtreport(e.district,"40625423-7b36-11ee-b363-fa163e14116c"))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.onHold," ")}}function we(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.YNc(3,ke,2,1,"td",9),t.YNc(4,Ie,2,1,"td",9),t.YNc(5,Ne,2,1,"td",9),t.TgZ(6,"td",90),t.NdJ("click",function(){const r=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG("SUMMARY_BY_SCHEME"===l.selectedtype?l.totalworksScheme(r.schemeId||"-1"):"SUMMARY_BY_DIVISION"===l.selectedtype?l.totalworks(r.division):l.districttotal(r.district))}),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"number"),t.qZA(),t.YNc(11,Ze,2,1,"td",91),t.YNc(12,Ae,2,1,"td",91),t.YNc(13,Ue,2,1,"td",91),t.YNc(14,De,2,1,"td",91),t.TgZ(15,"td",90),t.NdJ("click",function(){const r=t.CHM(n).$implicit,l=t.oxw(2);return t.KtG("SUMMARY_BY_SCHEME"===l.selectedtype?l.SchemeCompleted(r.schemeId||"-1",["40625423-7b36-11ee-b363-fa163e14116a","3e9e2926-7afb-11ee-b363-fa163e14116e"]):"SUMMARY_BY_DIVISION"===l.selectedtype?l.goToReports(r.division,["40625423-7b36-11ee-b363-fa163e14116a","3e9e2926-7afb-11ee-b363-fa163e14116e"]):l.districtreport(r.district,["40625423-7b36-11ee-b363-fa163e14116a","3e9e2926-7afb-11ee-b363-fa163e14116e"]))}),t._uU(16),t.qZA()()}if(2&o){const n=s.$implicit,i=s.rowIndex,e=t.oxw(2);t.xp6(2),t.Oqu(e.first+i+1),t.xp6(1),t.Q6J("ngIf","SUMMARY_BY_SCHEME"!==e.selectedtype),t.xp6(1),t.Q6J("ngIf","SUMMARY_BY_DIVISION/DISTRICT"===e.selectedtype),t.xp6(1),t.Q6J("ngIf","SUMMARY_BY_SCHEME"===e.selectedtype),t.xp6(2),t.hij(" ",n.totalDivisionCount," "),t.xp6(2),t.hij(" ",t.xi3(10,11,n.totalWorkValue/1e7,"1.2-2")," Cr "),t.xp6(2),t.Q6J("ngIf",!e.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!e.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!e.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf",!e.isMimimizedoftenders),t.xp6(2),t.hij(" ",n.notStarted," ")}}const Ye=function(){return[5,10,25,50,100]};function Oe(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"div")(1,"p-table",71),t.NdJ("onLazyLoad",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.lazyload(e))}),t.YNc(2,ye,19,7,"ng-template",40),t.YNc(3,we,17,14,"ng-template",41),t.qZA()()}if(2&o){const n=t.oxw();t.xp6(1),t.Q6J("value",n.divisionCount)("paginator","SUMMARY_BY_DIVISION/DISTRICT"===n.selectedtype)("rows",n.rows)("totalRecords",n.total)("rowsPerPageOptions",t.DdM(9,Ye))("lazy",!1)("sortOrder",1)("loading",!1)("customSort",!1)}}const Ge=function(){return{border:"none",width:"fit-content"}};let Re=(()=>{var o;class s{constructor(i,e,r,l,g,T){this.mbookService=i,this.layoutService=e,this.router=r,this.tenderService=l,this.dashboardService=g,this.reportsService=T,this.year=[],this.privlegess=u.UR,this.isMimimizedoftenders=!0,this.first=0,this.rows=5,this.defaultSortField="startDate",this.selectedtype="DIVISION",this.selectedLabel="Work By Division",this.subscription=this.layoutService.configUpdate$.subscribe(()=>{this.initChart()})}ngOnInit(){this.initChart(),this.types=[{id:"DIVISION",Name:"Work By Division"},{id:"WORK_TYPE",Name:"Work By Work Type"},{id:"SUMMARY_BY_DIVISION/DISTRICT",Name:"Abstract By Division/District"},{id:"SUMMARY_BY_SCHEME",Name:"Abstract By Scheme"}],this.filtermodel={districtList:null,divisionList:null,selectionType:this.selectedtype,fromDate:null,searchString:null,skip:0,sorting:{fieldName:"startDate",sort:"ASC"},toDate:null,take:5,where:null,workType:null,year:this.year,columnSearch:null},this.reportsService.getreportform().subscribe(i=>{this.divisions=i.data.divisions,this.dtistrictsList=i.data.districts,this.schemes=i.data.schemeName},i=>{})}ngOnChanges(){this.filtermodel={districtList:null,divisionList:null,fromDate:null,selectionType:this.selectedtype,searchString:null,skip:0,sorting:{fieldName:"startDate",sort:"ASC"},toDate:null,take:5,where:null,workType:null,year:this.year,columnSearch:null},("WORK_TYPE"==this.selectedtype||"DIVISION"==this.selectedtype)&&this.calltenders(),this.calltenderchartdetails(),"SUMMARY_BY_DIVISION"==this.selectedtype&&this.calltenderDivisionCount(),"SUMMARY_BY_DIVISION/DISTRICT"==this.selectedtype&&this.calltenderDivisionDistrictCount(),"SUMMARY_BY_SCHEME"==this.selectedtype&&this.calltenderSchemeCount()}changetype(){this.calltenderchartdetails()}calltenders(){this.tenderService.getTenders(this.filtermodel).subscribe(i=>{i&&i.status==a.BA&&(this.tenders=i.data,this.total=i.totalRecordCount)},i=>{})}calltenderDivisionCount(){this.dashboardService.getDashboard_Count(this.filtermodel).subscribe(i=>{i&&i.status==a.BA&&(this.divisionCount=i.data,this.total=i.totalRecordCount)},i=>{})}calltenderSchemeCount(){this.dashboardService.getDashboard_Scheme_Count(this.filtermodel).subscribe(i=>{i&&i.status==a.BA&&(console.log(i),this.divisionCount=i.data,this.total=i.totalRecordCount)},i=>{})}exportToExcel(i){let e=[],r="Tender Details";if("WORK_TYPE"===this.selectedtype||"DIVISION"===this.selectedtype?e=this.tenders?.map((p,v)=>({SNo:v+1,WorkType:p.workType||"-",Division:p.divisionName||"-",District:p.districtName||"-",Scheme:p.schemeName||"-",WorkId:p.tenderNumber||"-",GO:p.goNumber||"-",StartDate:p.startDate?new Date(p.startDate).toLocaleDateString("en-GB"):"-",EndDate:p.endDate?new Date(p.endDate).toLocaleDateString("en-GB"):"-",Status:p.workStatus||"-"}))||[]:"SUMMARY_BY_DIVISION"===this.selectedtype||"SUMMARY_BY_DIVISION/DISTRICT"===this.selectedtype?e=this.divisionCount?.map((p,v)=>({SNo:v+1,Division:p.divisionName||"-",District:"SUMMARY_BY_DIVISION/DISTRICT"===this.selectedtype&&p.districtName||"-",TotalWorks:p.totalDivisionCount||0,TotalValue:p.totalWorkValue||0,Completed:p.completed||0,InProgress:p.inProgress||0,SlowProgress:p.slowProgress||0,OnHold:p.onHold||0,NotStarted:p.notStarted||0}))||[]:"SUMMARY_BY_SCHEME"===this.selectedtype&&(e=this.divisionCount?.map((p,v)=>({SNo:v+1,SchemeName:p.schemeName||"-",TotalWorks:p.totalDivisionCount||0,TotalValue:p.totalWorkValue||0,Completed:p.completed||0,InProgress:p.inProgress||0,SlowProgress:p.slowProgress||0,OnHold:p.onHold||0,NotStarted:p.notStarted||0}))||[]),!e.length)return void console.warn("\u26a0\ufe0f No data available for export.");let l="";switch(this.selectedtype){case"WORK_TYPE":l="WorkType_Report";break;case"DIVISION":l="Division_Report";break;case"SUMMARY_BY_SCHEME":l="Scheme_Summary";break;case"SUMMARY_BY_DIVISION/DISTRICT":l="Division_District_Summary";break;default:l="WorkSummary"}const g=S.utils.json_to_sheet(e);if("xlsx"===i)S.writeFile({Sheets:{Data:g},SheetNames:["Data"]},`${l}.xlsx`);else if("csv"===i){const p=S.utils.sheet_to_csv(g),v=new Blob([p],{type:"text/csv;charset=utf-8;"});(0,D.saveAs)(v,`${l}.csv`)}else if("pdf"===i){const p=new R.default("l","mm","a4");p.text(`${r} Report`,14,10);const v=[Object.keys(e[0])],eo=e.map(oo=>Object.values(oo));P()(p,{head:v,body:eo,startY:15,styles:{fontSize:8},headStyles:{fillColor:[22,160,133]},alternateRowStyles:{fillColor:[240,240,240]}}),p.save(`${r}.pdf`)}}calltenderDivisionDistrictCount(){this.dashboardService.getDashboard_district_Count(this.filtermodel).subscribe(i=>{i&&i.status==a.BA&&(this.divisionCount=i.data,this.total=i.totalRecordCount)},i=>{})}divisionChanged(i){this.filtermodel.divisionIds=i,this.calltenderDivisionDistrictCount(),this.filtermodel.divisionIds=[]}districtChanged(i){this.filtermodel={...this.filtermodel,DistrictIds:i},this.calltenderDivisionDistrictCount(),this.filtermodel.DistrictIds=[]}calltenderchartdetails(){this.dashboardService.getDashboardTenderChart({departmentIds:null,divisionIds:null,year:this.year,selectionType:this.selectedtype,costOrCount:this.chartType?"COST":"COUNT"}).subscribe(i=>{this.chartData=i.data},i=>{})}initChart(){const i=getComputedStyle(document.documentElement),e=i.getPropertyValue("--text-color"),r=i.getPropertyValue("--text-color-secondary"),l=i.getPropertyValue("--surface-border");this.chartOptions={maintainAspectRatio:!1,aspectRatio:.8,plugins:{legend:{labels:{color:e}}},exportEnabled:!0,scales:{x:{ticks:{color:r,font:{weight:500}},grid:{color:l,drawBorder:!1}},y:{ticks:{color:r},grid:{color:l,drawBorder:!1}}}}}getStyleClass(){return this.isMimimizedoftenders?"col-12 xl:col-6":"col-12 xl:col-12"}actioInvoked(i){this.router.navigate(["tender","view",i.id])}onGlobalFilter(i){this.filtermodel={...this.filtermodel,searchString:this.tenderSearchString},this.calltenders()}lazyload(i){i.filters&&(this.filtermodel={...this.filtermodel,sorting:{fieldName:i.field?i.field:this.defaultSortField,sort:1==i.order?"ASC":"DESC"},columnSearch:[]}),this.filtermodel={...this.filtermodel,sorting:{fieldName:i.sortField&&""!==i.sortField?i.sortField:this.defaultSortField,sort:1==i.sortOrder?"ASC":"DESC"}},this.calltenders()}toggletable(){this.isMimimizedoftenders=!this.isMimimizedoftenders}onPageChange(i){this.first=i.first,this.rows=i.rows;const e=Math.min(this.total-1,this.first);Math.min(this.total,this.first+this.rows),this.filtermodel={...this.filtermodel,skip:e,take:i.rows},this.calltenders()}getBtnSeverity(i){return(0,u.x)(i)}changeType(i){this.filtermodel={...this.filtermodel,selectionType:i.value},this.selectedLabel=this.types.find(e=>e.id==i.value)?.Name,this.calltenders(),this.calltenderchartdetails(),"SUMMARY_BY_DIVISION"==this.selectedtype&&this.calltenderDivisionCount(),"SUMMARY_BY_DIVISION/DISTRICT"==this.selectedtype&&this.calltenderDivisionDistrictCount(),"SUMMARY_BY_SCHEME"==this.selectedtype&&this.calltenderSchemeCount()}goToReports(i,e){this.router.navigate(["/reports"],{queryParams:{Status:e,division:i,Year:this.year}})}SchemeCompleted(i,e){this.router.navigate(["/reports"],{queryParams:{Status:e,scheme:i,Year:this.year}})}totalworks(i){this.router.navigate(["/reports"],{queryParams:{division:i,Year:this.year}})}totalworksScheme(i){this.router.navigate(["/reports"],{queryParams:{scheme:i,Year:this.year}})}districtreport(i,e){this.router.navigate(["/reports"],{queryParams:{district:i,Status:e,Year:this.year}})}districttotal(i){this.router.navigate(["/reports"],{queryParams:{district:i,Year:this.year}})}}return(o=s).\u0275fac=function(i){return new(i||o)(t.Y36(J.B),t.Y36(C.P),t.Y36(_.F0),t.Y36(Jt.$),t.Y36(m.s),t.Y36(qt.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-tender-grid"]],inputs:{year:"year"},features:[t.TTD],decls:24,vars:19,consts:[[3,"ngClass"],[1,"card",2,"height","100%"],[1,"row"],[1,"col","filtertab",2,"padding-top","0px","margin-top","-10px"],["optionLabel","Name","optionValue","id","placeholder","Select a Role",3,"options","showClear","ngModel","onChange","ngModelChange"],["style","position: relative;",4,"ngIf"],["class","col","style","padding-top: 0px; margin-top: -10px",4,"ngIf"],["style","padding-top: 0px; display: contents",4,"ngIfCol","ngIf"],["class","d-flex justify-content-end align-items-center","style","\n    gap: 0.35rem;\n    margin-top: -8px;\n    margin-bottom: 4px;\n    padding: 0;\n  ",4,"ngIf"],[4,"ngIf"],[1,"col",2,"padding-top","0px"],[1,"col",2,"padding-top","0px","display","contents"],[2,"margin-right","5px"],[3,"ngModel","ngModelChange"],[2,"margin-left","5px"],["type","bar",3,"data","responsive","options"],[2,"position","relative"],[1,"d-flex","justify-content-end","align-items-center",2,"position","absolute","top","-35px","right","10px","z-index","10"],[1,"d-flex","align-items-center","flex-wrap",2,"gap","0.6rem","margin-top","-6px","margin-bottom","0","padding-left","12px","padding-right","8px"],[2,"min-width","220px","max-width","30%"],["placeholder","Select a Division","optionLabel","text","optionValue","value",1,"w-100",3,"options","ngModel","showClear","ngModelChange"],["pTemplate","item"],["placeholder","Select a District","optionLabel","text","optionValue","value",1,"w-100",3,"options","ngModel","showClear","ngModelChange"],[2,"flex","1 1 auto"],["style","display: flex; gap: 0.3rem;",4,"ngIf"],["title","Maximize",1,"pi","pi-window-maximize","text-purple-500","text-xl","cursor-pointer",3,"click"],["title","Minimize",1,"pi","pi-window-minimize","text-purple-500","text-xl","cursor-pointer",3,"click"],[1,"flex","align-items-center"],[1,"ml-2"],[2,"display","flex","gap","0.3rem"],["type","button","pButton","","pRipple","","icon","pi pi-file","pTooltip","CSV","tooltipPosition","bottom",1,"p-button-sm",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-file-excel","pTooltip","XLS","tooltipPosition","bottom",1,"p-button-sm","p-button-success",3,"click"],["type","button","pButton","","pRipple","","icon","pi pi-file-pdf","pTooltip","PDF","tooltipPosition","bottom",1,"p-button-sm","p-button-warning",3,"click"],[1,"col",2,"padding-top","0px","margin-top","-10px"],["placeholder","Search Keyword and Click Enter",1,"p-inputtext","p-component","p-element","w-full",3,"ngModel","ngModelChange","change"],[2,"padding-top","0px","display","contents"],[1,"pi","pi-window-maximize","text-purple-500","text-xl",3,"click"],[1,"pi","pi-window-minimize","text-purple-500","text-xl",3,"click"],[1,"d-flex","justify-content-end","align-items-center",2,"gap","0.35rem","margin-top","-8px","margin-bottom","4px","padding","0"],["ngClass","dfd","responsiveLayout","scroll",3,"value","customSort","paginator","lazy","sortOrder","totalRecords","loading","rows","onLazyLoad"],["pTemplate","header"],["pTemplate","body"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"showCurrentPageReport","first","rows","totalRecords","rowsPerPageOptions","onPageChange"],["pSortableColumn","workType",4,"ngIf"],["pSortableColumn","divisionName",4,"ngIf"],["pSortableColumn","districtName",4,"ngIf"],["pSortableColumn","startDate",4,"ngIf"],["pSortableColumn","name",4,"ngIf"],["pSortableColumn","goNumber",4,"ngIf"],["pSortableColumn","schemeName",4,"ngIf"],["pSortableColumn","tenderNumber"],["field","tenderNumber"],["pSortableColumn","workStatus"],["field","workStatus"],["pSortableColumn","workType"],["field","workType"],["pSortableColumn","divisionName"],["field","divisionName"],["pSortableColumn","districtName"],["field","districtName"],["pSortableColumn","startDate"],["field","startDate"],["pSortableColumn","name"],["field","name"],["pSortableColumn","goNumber"],["field","goNumber"],["pSortableColumn","schemeName"],["field","schemeName"],[3,"ngClass","value"],[3,"ngxPermissionsOnly"],["type","button","pButton","","pRipple","","icon","pi pi-info","title","Info","styleClass","p-button",1,"p-button-outlined","mr-2",3,"click"],["responsiveLayout","scroll",3,"value","paginator","rows","totalRecords","rowsPerPageOptions","lazy","sortOrder","loading","customSort","onLazyLoad"],["pSortableColumn","totalDivisionCount"],["field","totalDivisionCount"],["pSortableColumn","totalWorkValue"],["field","totalWorkValue"],["pSortableColumn","completed",4,"ngIf"],["pSortableColumn","inProgress",4,"ngIf"],["pSortableColumn","slowProgress",4,"ngIf"],["pSortableColumn","onHold",4,"ngIf"],["pSortableColumn","notStarted"],["field","notStarted"],["pSortableColumn","completed"],["field","completed"],["pSortableColumn","inProgress"],["field","inProgress"],["pSortableColumn","slowProgress"],["field","slowProgress"],["pSortableColumn","onHold"],["field","onHold"],[1,"clickable-td",3,"click"],["class","clickable-td",3,"click",4,"ngIf"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p-dropdown",4),t.NdJ("onChange",function(l){return e.changeType(l)})("ngModelChange",function(l){return e.selectedtype=l}),t.qZA()(),t.YNc(5,Lt,13,9,"div",5),t.YNc(6,Wt,2,1,"div",6),t.YNc(7,Kt,3,2,"div",7),t.qZA(),t.YNc(8,Ht,4,0,"div",8),t.YNc(9,fe,5,15,"div",9),t.YNc(10,Oe,4,10,"div",9),t.qZA()(),t.TgZ(11,"div",0)(12,"div",1)(13,"div",2)(14,"div",10)(15,"h5"),t._uU(16),t.qZA()(),t.TgZ(17,"div",11)(18,"span",12),t._uU(19,"Count"),t.qZA(),t.TgZ(20,"p-inputSwitch",13),t.NdJ("ngModelChange",function(l){return e.chartType=l})("ngModelChange",function(){return e.changetype()}),t.qZA(),t.TgZ(21,"span",14),t._uU(22,"Cost"),t.qZA()()(),t._UZ(23,"p-chart",15),t.qZA()()),2&i&&(t.Q6J("ngClass",e.getStyleClass()),t.xp6(4),t.Akn(t.DdM(18,Ge)),t.Q6J("options",e.types)("showClear",!1)("ngModel",e.selectedtype),t.xp6(1),t.Q6J("ngIf","SUMMARY_BY_DIVISION/DISTRICT"===e.selectedtype),t.xp6(1),t.Q6J("ngIf","SUMMARY_BY_DIVISION/DISTRICT"!=e.selectedtype),t.xp6(1),t.Q6J("ngIf","SUMMARY_BY_DIVISION/DISTRICT"!=e.selectedtype),t.xp6(1),t.Q6J("ngIf","SUMMARY_BY_DIVISION/DISTRICT"!=e.selectedtype&&!e.isMimimizedoftenders),t.xp6(1),t.Q6J("ngIf","WORK_TYPE"==e.selectedtype||"DIVISION"==e.selectedtype),t.xp6(1),t.Q6J("ngIf","SUMMARY_BY_DIVISION"===e.selectedtype||"SUMMARY_BY_DIVISION/DISTRICT"===e.selectedtype||"SUMMARY_BY_SCHEME"===e.selectedtype),t.xp6(1),t.Q6J("ngClass",e.getStyleClass()),t.xp6(5),t.Oqu(e.selectedLabel),t.xp6(4),t.Q6J("ngModel",e.chartType),t.xp6(3),t.Q6J("data",e.chartData)("responsive",!0)("options",e.chartOptions))},dependencies:[c.mk,c.O5,h.Fj,h.JJ,h.On,q.jx,A.Hq,B.Lt,Bt.NU,E.Ql,y.iA,y.lQ,y.fz,Q.u,z.D,F.V,w.C,Y.gE,c.JJ,c.uU],styles:[".dfd[_ngcontent-%COMP%]{height:100%}  .filtertab>p-dropdown span{font-size:1.25rem;font-weight:500}  .filtertab>p-dropdown>div>p-overlay span{font-size:revert;font-weight:revert}  .clickable-td{cursor:pointer;color:#00f;text-decoration:underline}"]}),s})();function Pe(o,s){if(1&o&&t._UZ(0,"app-tender-stats",6),2&o){const n=t.oxw();t.Q6J("year",n.yearList)("recordCount",n.recordCount)}}function Je(o,s){if(1&o&&t._UZ(0,"app-tender-grid",7),2&o){const n=t.oxw();t.Q6J("year",n.yearList)}}function qe(o,s){if(1&o&&t._UZ(0,"app-mbook-stats",6),2&o){const n=t.oxw();t.Q6J("year",n.yearList)("recordCount",n.recordCount)}}function Be(o,s){if(1&o&&t._UZ(0,"app-mbook-grid",7),2&o){const n=t.oxw();t.Q6J("year",n.yearList)}}function Ee(o,s){1&o&&t._UZ(0,"app-quick-links",8)}let Qe=(()=>{var o;class s{constructor(i,e,r){this.layoutService=i,this.cookieService=e,this.dashboardService=r,this.butnOptions=[{name:"Current yr",value:"CURRENT"},{name:"Past yr",value:"PAST_YR"},{name:"Past 5 yrs",value:"PAST_5_YR"}],this.selectedOptions=["CURRENT"],this.yearList=[(new Date).getFullYear().toString()],this.privleges=u.UR}changeyear(){if(localStorage.setItem("selectedYearOptions",JSON.stringify(this.selectedOptions)),this.yearList=[],this.selectedOptions.includes("PAST_5_YR"))for(var i=(new Date).getFullYear()-5,e=(new Date).getFullYear(),r=i+1;r<=e;r++)this.yearList=[...this.yearList,r.toString()];else this.selectedOptions.includes("PAST_YR")&&(this.yearList=[...this.yearList,((new Date).getFullYear()-1).toString()]);this.selectedOptions.includes("CURRENT")&&(this.yearList=[...this.yearList,(new Date).getFullYear().toString()]),this.selectedOptions&&0==this.selectedOptions.length&&(this.yearList=[(new Date).getFullYear().toString()]),this.yearList=this.yearList.filter((l,g,T)=>T.findIndex(p=>p===l)===g),this.getcountdata()}ngOnInit(){this.getcountdata();const i=this.cookieService.get("privillage");i&&(this.userPermissions=i.split(","));const e=localStorage.getItem("selectedYearOptions");if(e)try{this.selectedOptions=JSON.parse(e)}catch{this.selectedOptions=["CURRENT"]}this.changeyear()}getcountdata(){this.dashboardService.getDashboardRecordCount({departmentIds:null,divisionIds:null,year:this.yearList,costOrCount:"COUNT",selectionType:null}).subscribe(i=>{this.recordCount=i.data},i=>{})}getPerm(i){return"string"==typeof i?this.userPermissions.includes(i):"object"!=typeof i||this.userPermissions.find(e=>i.includes(e))}}return(o=s).\u0275fac=function(i){return new(i||o)(t.Y36(C.P),t.Y36(M.N),t.Y36(m.s))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard"]],decls:8,vars:8,consts:[[1,"grid"],[1,"col-12",2,"display","flex","justify-content","center"],["optionLabel","name","optionValue","value",3,"options","ngModel","multiple","ngModelChange","onChange"],["ngClass","fulsc",3,"year","recordCount",4,"ngIf"],["ngClass","fulsc",3,"year",4,"ngIf"],["class","col-12 xl:col-3",4,"ngIf"],["ngClass","fulsc",3,"year","recordCount"],["ngClass","fulsc",3,"year"],[1,"col-12","xl:col-3"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"p-selectButton",2),t.NdJ("ngModelChange",function(l){return e.selectedOptions=l})("onChange",function(){return e.changeyear()}),t.qZA()(),t.YNc(3,Pe,1,2,"app-tender-stats",3),t.YNc(4,Je,1,1,"app-tender-grid",4),t.YNc(5,qe,1,2,"app-mbook-stats",3),t.YNc(6,Be,1,1,"app-mbook-grid",4),t.YNc(7,Ee,1,0,"app-quick-links",5),t.qZA()),2&i&&(t.xp6(2),t.Q6J("options",e.butnOptions)("ngModel",e.selectedOptions)("multiple",!0),t.xp6(1),t.Q6J("ngIf",e.getPerm(e.privleges.DASHBOARD_TENDER_COUNT)),t.xp6(1),t.Q6J("ngIf",e.getPerm(e.privleges.DASHBOARD_TENDER_RECORD)),t.xp6(1),t.Q6J("ngIf",e.getPerm(e.privleges.DASHBOARD_MBOOK_COUNT)),t.xp6(1),t.Q6J("ngIf",e.getPerm(e.privleges.DASHBOARD_MBOOK_RECORD)),t.xp6(1),t.Q6J("ngIf",e.getPerm(e.privleges.DASHBOARD_QUICK_LINKS)))},dependencies:[c.mk,c.O5,h.JJ,h.On,x.UN,k,$,L,Pt,Re],styles:[".fulsc{width:100%;display:flex;flex-wrap:wrap}[_nghost-%COMP%]     app-quick-links{display:block;width:100%!important;max-width:100%;flex:0 0 100%!important}"]}),s})();var ze=d(96155),Fe=d(35154);const $e=[{path:"",component:Qe},{path:"key-contacts",component:(()=>{var o;class s{constructor(i){this.userService=i,this.actions=[],this.isDependent=!1,this.title="Configuration",this.first=0,this.rows=25,this.total=0,this.hasCode=!1,this.defaultSortField="value",this.defaultSortOrder=1}ngOnInit(){this.userService.getKeyContacts().subscribe(i=>{i&&i.status==a.BA&&(this.contacts=i.data,this.total=i.totalRecordCount)},i=>{}),this.cols=[{field:"department",header:"Department",customExportHeader:"Department",sortablefield:"department",isSortable:!0,isSearchable:!0},{field:"firstName",header:"First Name",sortablefield:"firstName",isSortable:!0,isSearchable:!0},{field:"lastName",header:"Last Name",sortablefield:"lastName",isSortable:!0,isSearchable:!0},{field:"roleName",header:"Role",sortablefield:"roleName",isSortable:!0,isSearchable:!0},{field:"userGroupName",header:"Group",sortablefield:"userGroupName",isSortable:!0,isSearchable:!0},{field:"email",header:"Email",sortablefield:"email",isSortable:!0,isSearchable:!0},{field:"mobile",header:"Mobile",sortablefield:"mobile",isSortable:!0,isSearchable:!0}],this.searchableColumns=this.cols.filter(i=>1==i.isSearchable).flatMap(i=>i.field)}}return(o=s).\u0275fac=function(i){return new(i||o)(t.Y36(ze.K))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-key-contacts"]],decls:7,vars:11,consts:[[1,"col-12"],[1,"card"],[1,"row"],[1,"col",2,"padding-top","0px"],[3,"records","defaultSortField","defaultSortOrder","cols","fileName","rows","total","actions","searchableColumns","hasActiveInactive","canShowAction"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),t._uU(5,"Key Contacts"),t.qZA()()(),t._UZ(6,"app-datatable",4),t.qZA()()),2&i&&(t.xp6(6),t.Q6J("records",e.contacts)("defaultSortField",e.defaultSortField)("defaultSortOrder",e.defaultSortOrder)("cols",e.cols)("fileName","Configuration")("rows",25)("total",e.contacts?e.contacts.length:0)("actions",e.actions)("searchableColumns",e.searchableColumns)("hasActiveInactive",!1)("canShowAction",!1))},dependencies:[Fe.n]}),s})()},{path:"quick-links",component:k}];let Le=(()=>{var o;class s{}return(o=s).\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[_.Bz.forChild($e),_.Bz]}),s})();var We=d(61122),je=d(30074),Ve=d(81913),Ke=d(48370),He=d(30442),Xe=d(34386);let to=(()=>{var o;class s{}return(o=s).\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[He.W,c.ez,Le,A.hJ,x.Qy,c.ez,h.u5,w.S,We.$9,y.U$,Ve.l,je.ml,A.hJ,Ke.E,Xe.x,Y.VI.forChild()]}),s})()},63316:(U,b,d)=>{d.d(b,{B:()=>M});var c=d(20553),_=d(21525),u=d(65879),t=d(18068),C=d(69862);let M=(()=>{var m;class h{constructor(a,f){this.router=a,this.http=f}getMBookbyId(a){return this.http.get(`${c.N.apiUrl}/Work/MBook_GetById?MBookId=${a}`)}getMBooks(a){return this.http.post(`${c.N.apiUrl}/Work/MBook_Get`,a,_.c)}saveMbook(a){return this.http.post(`${c.N.apiUrl}/Work/MBook_SaveUpdate`,a,_.c)}approveMbook(a){return this.http.post(`${c.N.apiUrl}/Work/MBook_ApproveRejectReturn`,a,_.c)}getFileTypes(){return this.http.get(`${c.N.apiUrl}/Work/MBook_Get_FileTypes`)}getApprovalTypes(a){return this.http.get(`${c.N.apiUrl}/Work/MBook_Get_ApprovalStatusList?mbookId=`+a)}}return(m=h).\u0275fac=function(a){return new(a||m)(u.LFG(t.F0),u.LFG(C.eN))},m.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),h})()},65031:(U,b,d)=>{d.d(b,{F:()=>M});var c=d(20553),_=d(21525),u=d(65879),t=d(18068),C=d(69862);let M=(()=>{var m;class h{constructor(a,f){this.router=a,this.http=f}getreports(a){return this.http.post(`${c.N.apiUrl}/Report/Work_Get`,a,_.c)}getMilesonereports(a){return this.http.post(`${c.N.apiUrl}/Report/Milestone_Get`,a,_.c)}getGoreports(a){return this.http.post(`${c.N.apiUrl}/Report/GO_Get`,a,_.c)}getMbookreports(a){return this.http.post(`${c.N.apiUrl}/Report/MBook_Get`,a,_.c)}getreportform(){return this.http.get(`${c.N.apiUrl}/Report/Alert_Filter_Form`,_.c)}}return(m=h).\u0275fac=function(a){return new(a||m)(u.LFG(t.F0),u.LFG(C.eN))},m.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),h})()},80290:(U,b,d)=>{d.d(b,{$:()=>M});var c=d(20553),_=d(21525),u=d(65879),t=d(18068),C=d(69862);let M=(()=>{var m;class h{constructor(a,f){this.router=a,this.http=f}getGos(a,f,N,k){return this.http.get(`${c.N.apiUrl}/Work/GO_Get?IsActive=${a}&Id=${f}&gONumber=${N}&localGONumber=${k}`)}getTenders(a){return this.http.post(`${c.N.apiUrl}/Work/Tender_Get`,a,_.c)}getTenderById(a){return this.http.get(`${c.N.apiUrl}/Work/Tender_Create_Work?TenderId=${a}`)}fileupload(a){return this.http.post(`${c.N.apiUrl}/Work/Work_UploadFile`,a,_.c)}workTemplateCreate(a,f){return this.http.get(`${c.N.apiUrl}/Work/Work_Template_Create?WorkId=${a}&TemplateId=${f}`)}DeleteWorkTemplate(a){return this.http.get(`${c.N.apiUrl}/Work/DeleteWorkTemplate?WorkId=${a}`)}IstenderVerified(a){return this.http.get(`${c.N.apiUrl}/Work/Tender_Verified?TenderId=${a}`)}GetWorkTemplateMilestone(a,f,N,k){return this.http.get(`${c.N.apiUrl}/Work/Work_Template_Milestone_Get?IsActive=${a}&Id=${f}&WorkTemplateId=${N}&WorkId=${k}`)}SaveWorkTemplateMilestone(a){return this.http.post(`${c.N.apiUrl}/Work/Work_Template_Milestone_SaveUpdate`,a,_.c)}GetWorkTemplate(a){return this.http.get(`${c.N.apiUrl}/Work/Work_Template_Get?WorkId=${a}`)}downloadFile(a){return this.http.get(`${c.N.apiUrl}/Common/DownloadImage?fileId=${a}`)}UpdatePercentage(a){return this.http.post(`${c.N.apiUrl}/Work/Work_Template_Milestone_UpdatePercentage`,a,_.c)}getCommentList(a){return this.http.post(`${c.N.apiUrl}/Work/Comment_Get`,a,_.c)}saveComment(a){return this.http.post(`${c.N.apiUrl}/Work/Comment_SaveUpdate`,a,_.c)}filemasterSaveUpdate(a){return this.http.post(`${c.N.apiUrl}/Common/FileMaster_SaveUpdate`,a,_.c)}getactivityList(a){return this.http.post(`${c.N.apiUrl}/Work/Work_Activity_Get_Post`,a,_.c)}UpdateAmount(a){return this.http.post(`${c.N.apiUrl}/Work/Tender_Update_Amount`,a,_.c)}MilestoneFiles(a){return this.http.get(`${c.N.apiUrl}/Work/GetMilestoneFiles?MilestoneId=${a}`)}DeleteMilestoneFile(a,f){return this.http.get(`${c.N.apiUrl}/Work/DeleteMilestoneFile?MilestoneId=${a}&FileId=${f}`)}}return(m=h).\u0275fac=function(a){return new(a||m)(u.LFG(t.F0),u.LFG(C.eN))},m.\u0275prov=u.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),h})()}}]);