"use strict";(self.webpackChunkUI_Base=self.webpackChunkUI_Base||[]).push([[434],{33434:(F,u,l)=>{l.r(u),l.d(u,{LogsModule:()=>T});var h=l(96814),n=l(18068),d=l(31290),t=l(65879),g=l(20553),m=l(21525),S=l(69862);let f=(()=>{var a;class i{constructor(e,o){this.router=e,this.http=o}getlogs(e){return this.http.post(`${g.N.apiUrl}/Common/Record_History_Get`,e,m.c)}getEmailSmsLog(e){return this.http.post(`${g.N.apiUrl}/Common/Email_SMS_Log_Get`,e,m.c)}}return(a=i).\u0275fac=function(e){return new(e||a)(t.LFG(n.F0),t.LFG(S.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),i})();var p=l(87584);const E=[{path:"fieldlog",component:(()=>{var a;class i{constructor(e,o,s){this.router=e,this.route=o,this.logService=s,this.currentStatus=!0,this.title="Change History",this.first=0,this.rows=10,this.total=0,this.defaultSortField="createdDate",this.defaultSortOrder=-1,this.privleges=d.UR}ngOnInit(){this.tableFilterModel={searchString:null,skip:0,sorting:{fieldName:"createdDate",sort:"DESC"},take:10,columnSearch:null},this.cols=[{field:"action",header:"Action",sortablefield:"action",isSearchable:!0,isSortable:!0},{field:"tableName",header:"Table Name",sortablefield:"tableName",isSortable:!0,isSearchable:!0},{field:"tableUniqueId",header:"Unique Id",sortablefield:"tableUniqueId"},{field:"columnName",header:"Column Name",sortablefield:"columnName",isSortable:!0,isSearchable:!0},{field:"oldValue",header:"Old Value",sortablefield:"oldValue",isSortable:!0,isSearchable:!0},{field:"newValue",header:"New Value",sortablefield:"newValue",isSortable:!0,isSearchable:!0},{field:"createdByUserName",header:"Saved By",sortablefield:"createdByUserName",isSortable:!0},{field:"lastUpdatedDatestring",header:"Saved Date",sortablefield:"createdDate",isSortable:!0}],this.searchableColumns=this.cols.filter(e=>1==e.isSearchable).flatMap(e=>e.field)}changefilter(e){this.tableFilterModel={...this.tableFilterModel,...e},this.getlogs(this.tableFilterModel)}getlogs(e){this.logService.getlogs(e).subscribe(o=>{this.configurationList=[],o.data?.forEach(s=>{this.configurationList.push({...s,lastUpdatedDatestring:this.dcwt(s.createdDate)})}),this.total=o.totalRecordCount},o=>{})}dc(e){return(0,d.ql)(e)}dcwt(e){return(0,d.gv)(e)}}return(a=i).\u0275fac=function(e){return new(e||a)(t.Y36(n.F0),t.Y36(n.gz),t.Y36(f))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-field-changelist"]],decls:7,vars:11,consts:[[1,"card"],[1,"grid","formgrid",2,"justify-content","space-between","padding","0rem 1rem","margin-bottom","10px"],[1,""],[3,"records","cols","fileName","rows","total","defaultSortField","defaultstatus","canShowAction","hasActiveInactive","filterModel","changefilter"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),t._uU(4),t.qZA()(),t._UZ(5,"div",2),t.qZA(),t.TgZ(6,"app-datatable-pagination",3),t.NdJ("changefilter",function(D){return o.changefilter(D)}),t.qZA()()),2&e&&(t.xp6(4),t.hij("",o.title," "),t.xp6(2),t.Q6J("records",o.configurationList)("cols",o.cols)("fileName","Field_Changes")("rows",10)("total",o.total)("defaultSortField",o.defaultSortField)("defaultstatus",!o.currentStatus)("canShowAction",!1)("hasActiveInactive",!1)("filterModel",o.tableFilterModel))},dependencies:[p.b]}),i})()},{path:"emaillogs",component:(()=>{var a;class i{constructor(e,o,s){this.router=e,this.route=o,this.logService=s,this.currentStatus=!0,this.title="Email / SMS History",this.first=0,this.rows=10,this.total=0,this.defaultSortField="createdDate",this.defaultSortOrder=-1,this.privleges=d.UR}ngOnInit(){this.tableFilterModel={searchString:null,skip:0,sorting:{fieldName:"createdDate",sort:"DESC"},take:10,columnSearch:null},this.cols=[{field:"recordType",header:"Record Type",sortablefield:"recordType",isSearchable:!0,isSortable:!0},{field:"sentAddress",header:"To Email",sortablefield:"sentAddress",isSortable:!0,isSearchable:!0},{field:"subject",header:"Subject",sortablefield:"subject"},{field:"body",header:"Body",sortablefield:"body"},{field:"type",header:"Module",sortablefield:"type",isSortable:!0,isSearchable:!0},{field:"createdByUserName",header:"Sent By",sortablefield:"createdByUserName",isSortable:!0},{field:"lastUpdatedDatestring",header:"Sent Date",sortablefield:"createdDate",isSortable:!0}],this.searchableColumns=this.cols.filter(e=>1==e.isSearchable).flatMap(e=>e.field)}changefilter(e){this.tableFilterModel={...this.tableFilterModel,...e},this.getlogs(this.tableFilterModel)}getlogs(e){this.logService.getEmailSmsLog(e).subscribe(o=>{this.configurationList=[],o.data?.forEach(s=>{this.configurationList.push({...s,lastUpdatedDatestring:this.dcwt(s.createdDate)})}),this.total=o.totalRecordCount},o=>{})}dc(e){return(0,d.ql)(e)}dcwt(e){return(0,d.gv)(e)}}return(a=i).\u0275fac=function(e){return new(e||a)(t.Y36(n.F0),t.Y36(n.gz),t.Y36(f))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-email-logs"]],decls:7,vars:11,consts:[[1,"card"],[1,"grid","formgrid",2,"justify-content","space-between","padding","0rem 1rem","margin-bottom","10px"],[1,""],[3,"records","cols","fileName","rows","total","defaultSortField","defaultstatus","canShowAction","hasActiveInactive","filterModel","changefilter"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4"),t._uU(4),t.qZA()(),t._UZ(5,"div",2),t.qZA(),t.TgZ(6,"app-datatable-pagination",3),t.NdJ("changefilter",function(D){return o.changefilter(D)}),t.qZA()()),2&e&&(t.xp6(4),t.hij("",o.title," "),t.xp6(2),t.Q6J("records",o.configurationList)("cols",o.cols)("fileName","Email_Logs")("rows",10)("total",o.total)("defaultSortField",o.defaultSortField)("defaultstatus",!o.currentStatus)("canShowAction",!1)("hasActiveInactive",!1)("filterModel",o.tableFilterModel))},dependencies:[p.b]}),i})()}];let c=(()=>{var a;class i{}return(a=i).\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[n.Bz.forChild(E),n.Bz]}),i})();var v=l(40707),M=l(9502),C=l(97680),U=l(39232),y=l(74104),A=l(34386),O=l(30442),B=l(44393);let T=(()=>{var a;class i{}return(a=i).\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[h.ez,c,O.W,U.U$,v.hJ,C.L,A.x,M.$,y.EV,B.r]}),i})()},34386:(F,u,l)=>{l.d(u,{x:()=>E});var h=l(96814),n=l(51712),d=l(39232),t=l(40707),g=l(31494),m=l(9502),S=l(74104),f=l(30442),p=l(6263),L=l(18275),b=l(65879);let E=(()=>{var c;class v{}return(c=v).\u0275fac=function(C){return new(C||c)},c.\u0275mod=b.oAB({type:c}),c.\u0275inj=b.cJS({imports:[h.ez,d.U$,f.W,n.U,h.ez,L.g,t.hJ,g.n,m.$,S.EV,p.W]}),v})()}}]);